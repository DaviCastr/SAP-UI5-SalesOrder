<mvc:View controllerName="apps.dflc.salesorderts.controller.OrderForm"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns:core="sap.ui.core"
	xmlns:f="sap.ui.layout.form"
    xmlns:t="sap.ui.table"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns="sap.m">
    <Page id="page2" title="{i18n>OrdemForm}" showNavButton="true" navButtonPress="onPageBack" class="sapUiContentPadding">
    
        <VBox id="_IDGenVBox1">
            <f:Form id="FormChange354"
                editable="true">
                <f:title>
                    <core:Title id="_IDGenTitle" text="Header" />
                </f:title>
                <f:layout>
                    <f:ResponsiveGridLayout id="_IDGenResponsiveGridLayout"
                        labelSpanXL="3"
                        labelSpanL="3"
                        labelSpanM="3"
                        labelSpanS="12"
                        adjustLabelSpan="false"
                        emptySpanXL="4"
                        emptySpanL="4"
                        emptySpanM="4"
                        emptySpanS="0"
                        columnsXL="1"
                        columnsL="1"
                        columnsM="1"
                        singleContainerFullSize="false" />
                </f:layout>
                <f:formContainers>
                    <f:FormContainer id="_IDGenFormContainer">
                        <f:formElements>
                            <f:FormElement id="_IDGenFormElement" label="{i18n>SalesOrderID}">
                                <f:fields>
                                    <Input id="_IDGenInput" value="{/SalesOrderID}" editable="false"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement id="_IDGenFormElement1" label="{i18n>CreationDateTime}">
                                <f:fields>
                                    <DateTimePicker
                                        id="SalesOrder.CreationDateTime"
                                        placeholder="Date and hour"
                                        class="sapUiSmallMarginBottom"
                                        showFooter="true"
                                        value="{
                                            'path':'/CreationDateTime',
                                            'type':'sap.ui.model.type.DateTime',
                                            'formatOptions': {
                                                'pattern': 'dd/MM/yyyy HH:mm:ss',
                                                'UTC': true
                                            }
                                        }"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement id="_IDGenFormElement2" label="{i18n>CreatedBy}">
                                <f:fields>
                                    <Input id="SalesOrder.CreatedBy" value="{/CreatedBy}"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement id="_IDGenFormElement3" label="{i18n>CustomerID}">
                                <f:fields>
                                    <Input id="SalesOrder.CustomerID" type="Number" value="{/CustomerID}" required="true"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement id="_IDGenFormElement4" label="{i18n>TotalItems}">
                                <f:fields>
                                    <Input id="_IDGenInput1" value="{path: '/TotalItems', formatter: '.formatter.formatPrice'}" type="Text" editable="false"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement id="_IDGenFormElement5" label="{i18n>TotalFreight}">
                                <f:fields>
                                    <Input id="SalesOrder.TotalFreight" value="{path: '/TotalFreight', formatter: '.formatter.formatPrice'}" liveChange="liveChangePrice"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement id="_IDGenFormElement6" label="{i18n>TotalOrder}">
                                <f:fields>
                                    <Input id="_IDGenInput2" value="{path: '/TotalOrder', formatter: '.formatter.formatPrice'}" type="Text" editable="false"/>
                                </f:fields>
                            </f:FormElement>
                            <f:FormElement id="_IDGenFormElement7" label="{i18n>Status}">
                                <f:fields>
                                    <Select id="SalesOrder.Status" selectedKey="{/Status}">
                                        <items>
                                            <core:Item id="_IDGenItem" text="" key=""/>
                                            <core:Item id="_IDGenItem1" text="{i18n>StatusN}" key="N"/>
											<core:Item id="_IDGenItem2" text="{i18n>StatusL}" key="L"/>
                                            <core:Item id="_IDGenItem3" text="{i18n>StatusF}" key="F"/>
                                            <core:Item id="_IDGenItem4" text="{i18n>StatusC}" key="C"/>
                                        </items>
                                    </Select>
                                </f:fields>
                            </f:FormElement>
                        </f:formElements>
                    </f:FormContainer>
                </f:formContainers>
            </f:Form>
        </VBox>
        <VBox id="_IDGenVBox2">
            <Button text="New Item" id="bt-additem" press="onNewItem" class="sapUiSmallMarginEnd sapUiSmallMarginTop"/>

            <t:Table id="table2"
				rows="{/toItem}"
				visibleRowCount="10"
				threshold="0"
				selectionMode="MultiToggle"
				class="sapUiSmallMargin"
				>
				<t:toolbar>
					<OverflowToolbar id="_IDGenOverflowToolbar">
						<Title id="title2" text="Itens"></Title>
					</OverflowToolbar>
				</t:toolbar>
				<t:columns>
					<t:Column id="_IDGenColumn" width="60px" sortProperty="SalesOrderItemNumber">
						<Label id="_IDGenLabel" text="{i18n>SalesOrderItemNumber}" />
						<t:template>
							<Text id="_IDGenText" text="{SalesOrderItemNumber}" wrapping="false" />
						</t:template>
					</t:Column>
                    <t:Column id="_IDGenColumn1" width="100px">
						<Label id="_IDGenLabel1" text="{i18n>Material}" />
						<t:template>
							<Input id="_IDGenInput3" value="{Material}" type="Text" />
						</t:template>
					</t:Column>
                    <t:Column id="_IDGenColumn2" width="400px">
						<Label id="_IDGenLabel2" text="{i18n>Description}" />
						<t:template>
                            <Input id="_IDGenInput4" value="{Description}" />
						</t:template>
					</t:Column>
                    <t:Column id="_IDGenColumn3" width="100px">
						<Label id="_IDGenLabel3" text="{i18n>Quantity}" />
						<t:template>
							<Input id="_IDGenInput5" value="{Quantity}" type="Number" liveChange="liveChangeItemQuantity" />
						</t:template>
					</t:Column>
                    <t:Column id="_IDGenColumn4" width="100px">
						<Label id="_IDGenLabel4" text="{i18n>UnitPrice}" />
						<t:template>
							<Input id="_IDGenInput6" value="{path: 'UnitPrice', formatter: '.formatter.formatPrice'}" liveChange="liveChangePrice"/>
						</t:template>
					</t:Column>
                    <t:Column id="_IDGenColumn5" width="100px">
						<Label id="_IDGenLabel5" text="{i18n>TotalPrice}" />
						<t:template>
							<Text id="_IDGenText1" text="{path: 'TotalPrice', formatter: '.formatter.formatPrice'}" wrapping="false" />
						</t:template>
					</t:Column>
                    <t:Column id="_IDGenColumn6" width="100px">
						<Label id="_IDGenLabel6" text="{i18n>Options}" />
						<t:template>
							<HBox id="_IDGenHBox">
                                <Button id="_IDGenButton" app:SalesOrderItemNumber="{SalesOrderItemNumber}" icon="sap-icon://delete" press="onDeleteItem" class="sapUiTinyMarginBegin"/>
                            </HBox>
						</t:template>
					</t:Column>
                </t:columns>
            </t:Table>
        </VBox>
        <footer>
            <Toolbar id="_IDGenToolbar">
                <Button id="bt-save" text="{i18n>btnSave}" press="onSave" type="Emphasized"/>
                <Button id="bt-delete" text="{i18n>btnDelete}" press="onDelete" type="Reject" visible="false"/>
            </Toolbar>
        </footer>

    </Page>
</mvc:View>